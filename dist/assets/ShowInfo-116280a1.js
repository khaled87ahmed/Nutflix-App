import{h as l,i as $,k as M,r,M as R,l as _,n as A,j as s,F as E,a,N as H,C as j,g as y,G as p,o as D,H as V,f as z,V as P,p as u,A as g,q as T,s as G}from"./index-6d175f7e.js";function b(i=l){const o=i===l?$:M(i);return function(){const{store:c}=o();return c}}const L=b();function U(i=l){const o=i===l?L:b(i);return function(){return o().dispatch}}const W=U();function q(){r.useContext(R);const[i,o]=r.useState(!1),[e,c]=r.useState(),[d,f]=r.useState([]),[m,w]=r.useState(""),S=_(),{id:n}=S,k=async()=>{const{data:t}=await u.get(`https://api.themoviedb.org/3/movie/${n}?api_key=${g}&language=en-US`);c(t)},C=async()=>{const{data:t}=await u.get(`https://api.themoviedb.org/3/movie/${n}/credits?api_key=${g}&language=en-US`);f(t.cast)},F=async()=>{var x;const{data:t}=await u.get(`https://api.themoviedb.org/3/movie/${n}/videos?api_key=${g}&language=en-US`);w((x=t==null?void 0:t.results[0])==null?void 0:x.key)};r.useEffect(()=>{k(),C(),F()},[n]);const v=W(),h=A(t=>t.favorites).some(t=>t.id===(e==null?void 0:e.id)),N=()=>{v(h?T(e==null?void 0:e.id):G(e))};return s(E,{children:[a(H,{}),a(j,{children:s("div",{className:"wrapper mt-4",children:[s("div",{id:"movie-info",className:" d-flex gap-5",children:[a("img",{style:{borderRadius:5,boxShadow:"rgb(46 255 14 / 10%) -1px -1px 57px 1px",width:350,height:500,objectFit:"cover"},src:`${y}${e==null?void 0:e.backdrop_path}`,alt:"movie thumnail"}),s("div",{className:"mt-5",children:[a("h3",{style:{fontSize:33,color:"white"},children:e==null?void 0:e.title}),s("div",{className:"d-flex gap-2 mt-3",children:[a(p,{}),a(p,{}),a(p,{})]}),a("p",{style:{color:"#a5a5a5",marginTop:15,lineHeight:1.8},children:e==null?void 0:e.overview}),s("p",{style:{color:"#a5a5a5",fontWeight:"bold"},children:["Release Date: ",e==null?void 0:e.release_date]}),s("div",{className:"d-flex gap-2",children:[s("button",{onClick:()=>o(!0),style:{background:"#00CE79",border:"none",color:"black",fontSize:18,fontWeight:500,marginTop:12,display:"flex",alignItems:"center",gap:5},className:"btn btn-primary",children:[a(D,{style:{width:20,height:20}}),"Play Trailer"]}),s("button",{onClick:N,style:{background:h?"#FFA07A":"#00CE79",border:"none",color:"black",fontSize:18,fontWeight:500,marginTop:12,display:"flex",alignItems:"center",gap:5},className:"btn btn-primary",children:[a(V,{style:{width:20,height:20}}),h?"Remove from Favorites":"Favorite"]})]})]})]}),s("div",{className:"mt-5",children:[a("h2",{style:{color:"white"},children:"Cast"}),a("div",{className:"d-flex flex-wrap gap-5 mt-5",children:d==null?void 0:d.map(t=>s("div",{style:{display:"grid",placeItems:"center"},children:[a(z.LazyLoadImage,{width:100,height:100,style:{objectFit:"cover",borderRadius:"100%"},src:`${y}${t.profile_path}`,alt:"user"}),a("p",{className:"m-0 mt-2 mb-1 ",style:{color:"white",textAlign:"center"},children:t.name}),a("p",{style:{color:"white",textAlign:"center"},children:t.character})]},t.id))})]})]})}),a(P,{videoid:m&&m,title:e==null?void 0:e.title,show:i,onHide:()=>o(!1)})]})}export{q as default};
